<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Healthy Air for All</title>
    <link
      rel="icon"
      href="/Dashboard Web/images/newicon.png"
      type="image/png"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/Dashboard Web/style.css" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="">
    <div class="flex flex-col lg:flex-row w-screen h-screen">
      <!-- Sidebar -->
      <div
        class="sidebar flex-shrink-0 w-full lg:w-[250px] bg-gray-800 p-6 shadow-lg z-10"
      >
        <!-- Mobile Menu Button -->
        <div class="lg:hidden justify-between flex items-center">
          <button id="menuButton" class="text-white text-2xl">
            <i class="fas fa-bars"></i>
          </button>

          <!-- Profile Section mobile-->
          <div class="profile-container justify-end">
            <img
              src="/Dashboard Web/images/profile.png"
              alt="Profile Picture"
              class="profile-image"
            />
            <span class="profile-name">User</span>
          </div>
        </div>

        <!-- Profile Section -->
        <div class="profile-container hidden lg:flex">
          <img
            src="/Dashboard Web/images/profile.png"
            alt="Profile Picture"
            class="profile-image"
          />
          <span class="profile-name">User</span>
        </div>

        <!-- Menu Items -->
        <div
          class="hidden lg:flex icon-group flex-col justify-center gap-6 lg:gap-8 mt-6"
          id="menuItems"
        >
          <!-- Home -->
          <a
            href="/index.html"
            class="icon text-white hover:text-green-500 transition-colors duration-300 flex items-center space-x-3"
          >
            <i class="fas fa-home text-2xl"></i>
            <span class="text-sm lg:text-base">Home</span>
          </a>

          <!-- Settings -->
          <a
            href="#"
            class="icon text-white hover:text-orange-500 transition-colors duration-300 flex items-center space-x-3"
            onclick="openModalSetting()"
          >
            <i class="fas fa-cog text-2xl"></i>
            <span class="text-sm lg:text-base">Settings</span>
          </a>

          <!-- History -->
          <a
            href="/Dashboard Web/history.html"
            class="icon text-white hover:text-pink-500 transition-colors duration-300 flex items-center space-x-3"
          >
            <i class="fas fa-clock text-2xl"></i>
            <span class="text-sm lg:text-base">History</span>
          </a>

          <!-- About -->
          <a
            href="#"
            class="icon text-white hover:text-blue-500 transition-colors duration-300 flex items-center space-x-3 mt-4"
            onclick="openModalAbout()"
          >
            <i class="fas fa-info-circle text-2xl"></i>
            <span class="text-sm lg:text-base">About</span>
          </a>

          <!-- Logout -->
          <a
            href="/logout"
            class="icon text-white hover:text-red-500 transition-colors duration-300 flex items-center space-x-3 mt-4"
          >
            <i class="fas fa-sign-out-alt text-2xl"></i>
            <span class="text-sm lg:text-base">Logout</span>
          </a>
        </div>

        <!-- Menu Items mobile-->
        <div
          class="fixed bg-gray-600 p-6 hidden flex icon-group flex-col justify-center gap-6 lg:gap-8 mt-6"
          id="menuItemsmobile"
        >
          <!-- Home -->
          <a
            href="/index.html"
            class="icon text-white hover:text-green-500 transition-colors duration-300 flex items-center space-x-3"
          >
            <i class="fas fa-home text-2xl"></i>
            <span class="text-sm lg:text-base">Home </span>
          </a>

          <!-- Settings -->
          <a
            href="#"
            class="icon text-white hover:text-orange-500 transition-colors duration-300 flex items-center space-x-3"
            onclick="openModalSetting()"
          >
            <i class="fas fa-cog text-2xl"></i>
            <span class="text-sm lg:text-base">Settings</span>
          </a>

          <!-- History -->
          <a
            href="/Dashboard Web/history.html"
            class="icon text-white hover:text-pink-500 transition-colors duration-300 flex items-center space-x-3"
          >
            <i class="fas fa-clock text-2xl"></i>
            <span class="text-sm lg:text-base">History</span>
          </a>

          <!-- About -->
          <a
            href="#"
            class="icon text-white hover:text-blue-500 transition-colors duration-300 flex items-center space-x-3 mt-4"
            onclick="openModalAbout()"
          >
            <i class="fas fa-info-circle text-2xl"></i>
            <span class="text-sm lg:text-base">About</span>
          </a>

          <!-- Logout -->
          <a
            href="/logout"
            class="icon text-white hover:text-red-500 transition-colors duration-300 flex items-center space-x-3 mt-4"
          >
            <i class="fas fa-sign-out-alt text-2xl"></i>
            <span class="text-sm lg:text-base">Logout</span>
          </a>
        </div>
      </div>

      <!-- Dashboard -->
      <div class="dashboard flex-grow p-6 lg:w-[93%] overflow-auto">
        <header
          class="flex flex-col lg:flex-row justify-between items-center mb-8 px-4 lg:px-10 space-y-6 lg:space-y-0"
        >
          <div
            class="flex flex-col items-center lg:items-start space-y-4 lg:space-y-0"
          >
            <!-- Title Section -->
            <h1
              class="text-4xl lg:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-green-500 via-blue-500 to-teal-400 flex items-center space-x-3 animate-fade-in"
            >
              <img
                src="/Dashboard Web/images/fresh-air.png"
                width="50px"
                height="50px"
                class="animate-bounce"
              />
              <span class="animate-slide-right">Healthy Air for All</span>
            </h1>
          </div>

          <div
            class="flex flex-col lg:flex-row items-center lg:space-x-6 space-y-4 lg:space-y-0"
          >
            <!-- Date Time Section with Gradient Background -->
            <p
              class="text-base lg:text-lg font-medium text-black bg-white-600 py-2 px-4 rounded-md inline-block mt-3 border border-gray-300 transition-all duration-300 ease-in-out transform hidden lg:block"
              id="datetime"
            >
              Date Time : วันที่ เดือน พ.ศ. เวลา น.
            </p>

            <!-- Search Section -->
            <div class="relative flex items-center">
              <input
                type="text"
                id="search"
                class="p-3 pl-12 pr-4 w-full sm:w-72 lg:w-96 border-2 border-gray-300 rounded-full shadow-l focus:ring-4 focus:ring-teal-400 focus:outline-none text-gray-700 placeholder-gray-500 transition duration-300 ease-in-out"
                placeholder="Search..."
              />
              <i
                class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 text-lg"
              ></i>
            </div>
          </div>
        </header>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
          <div
            class="metric-card bg-gradient-to-r from-orange-500 to-red-400 shadow-lg rounded-lg flex items-center hover:scale-105 transition-transform duration-300"
          >
            <div class="w-2 h-full bg-orange-500 rounded-l"></div>
            <div class="p-6 text-white flex flex-col w-full">
              <div class="flex justify-between items-center">
                <p class="text-xs font-semibold tracking-wide uppercase">
                  Temperature
                </p>
                <i class="fas fa-thermometer-half text-3xl text-white"></i>
              </div>
              <h2 class="text-4xl font-bold text-white" id="temp">0 °C</h2>
              <p class="text-sm mt-2 opacity-80">
                Current temperature in your area.
              </p>
              <div class="w-full mt-4 bg-white h-1 rounded-lg">
                <div class="w-1/3 bg-yellow-400 h-full rounded-lg"></div>
              </div>
            </div>
          </div>

          <div
            class="metric-card bg-gradient-to-r from-pink-500 to-purple-600 shadow-lg rounded-lg flex items-center hover:scale-105 transition-transform duration-300"
          >
            <div class="w-2 h-full bg-pink-500 rounded-l"></div>
            <div class="p-6 text-white flex flex-col w-full">
              <div class="flex justify-between items-center">
                <p class="text-xs font-semibold tracking-wide uppercase">
                  Dust Density
                </p>
                <i class="fas fa-smog text-3xl text-white"></i>
              </div>
              <h2 class="text-4xl font-bold text-white" id="dust">0 µg/m³</h2>
              <p class="text-sm mt-2 opacity-80">
                Fine particulate matter concentration.
              </p>
              <div class="w-full mt-4 bg-white h-1 rounded-lg">
                <div class="w-2/3 bg-purple-400 h-full rounded-lg"></div>
              </div>
            </div>
          </div>

          <div
            class="metric-card bg-gradient-to-r from-blue-500 to-teal-400 shadow-lg rounded-lg flex items-center hover:scale-105 transition-transform duration-300"
          >
            <div class="w-2 h-full bg-blue-500 rounded-l"></div>
            <div class="p-6 text-white flex flex-col w-full">
              <div class="flex justify-between items-center">
                <p class="text-xs font-semibold tracking-wide uppercase">
                  Humidity
                </p>
                <i class="fas fa-tint text-3xl text-white"></i>
              </div>
              <h2 class="text-4xl font-bold text-white" id="humid">0 RH</h2>
              <p class="text-sm mt-2 opacity-80">
                Relative humidity in the air.
              </p>
              <div class="w-full mt-4 bg-white h-1 rounded-lg">
                <div class="w-1/2 bg-teal-400 h-full rounded-lg"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="chart-container mb-6">
          <canvas id="lineChart" class="w-full h-[250px]"></canvas>
        </div>

        <section>
          <h3 class="text-lg font-bold mb-4">History</h3>
          <input type="date" id="datePicker" />
          <div class="chart-container mb-6">
            <canvas id="barChart" class="w-full h-[250px]"></canvas>
          </div>
        </section>
      </div>
    </div>

    <div
      id="modal_about"
      class="fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center hidden z-20"
    >
      <div class="bg-white p-6 rounded-lg shadow-lg max-w-xl w-full">
        <h2 class="text-xl font-bold text-gray-900 mb-4">About Us</h2>
        <p class="text-gray-700 mb-2">
          Welcome to <strong>Healthy Air for All</strong>, your comprehensive
          solution for real-time air quality monitoring. Our platform provides
          essential data to ensure a healthier living environment for everyone.
        </p>
        <h3 class="text-lg font-semibold text-gray-800 mt-4">Our Mission</h3>
        <p class="text-gray-700">
          At Healthy Air for All, we aim to empower communities with reliable
          tools to monitor and improve air quality.
        </p>
        <h3 class="text-lg font-semibold text-gray-800 mt-4">Key Features</h3>
        <ul class="list-disc list-inside text-gray-700">
          <li>Real-Time Monitoring</li>
          <li>Interactive Dashboard</li>
          <li>Personalized Experience</li>
          <li>Historical Data</li>
        </ul>
        <h3 class="text-lg font-semibold text-gray-800 mt-4">Why Choose Us?</h3>
        <p class="text-gray-700">
          Healthy Air for All stands out with its intuitive design, reliable
          data, and commitment to creating a healthier environment.
        </p>
        <div class="mt-4 flex justify-end">
          <button
            onclick="closeModalAbout()"
            class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600"
          >
            Close
          </button>
        </div>
      </div>
    </div>

    <div
      id="modal_setting"
      class="fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center hidden z-20"
    >
      <div class="bg-white p-6 rounded-lg shadow-lg max-w-md w-full">
        <h2 class="text-2xl font-bold text-gray-800">Setting</h2>
        <p class="mt-3 text-gray-600">
          Customize your preferences here. Adjust the settings as needed.
        </p>

        <!-- ตัวเลือกการตั้งค่า -->
        <div class="mt-4 space-y-4">
          <div>
            <label for="themeSelect" class="block text-gray-700 font-medium">
              Theme:
            </label>
            <select
              id="themeSelect"
              class="mt-1 w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
            >
              <option value="light">Light</option>
              <option value="dark">Dark</option>
              <option value="system">System Default</option>
            </select>
          </div>
          <div>
            <label for="languageSelect" class="block text-gray-700 font-medium">
              Language:
            </label>
            <select
              id="languageSelect"
              class="mt-1 w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
            >
              <option value="en">English</option>
              <option value="th">ภาษาไทย</option>
              <option value="es">Español</option>
            </select>
          </div>
        </div>

        <!-- ปุ่มจัดการ -->
        <div class="mt-6 flex justify-end gap-4">
          <button
            onclick="saveSettings()"
            class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600"
          >
            Save
          </button>
          <button
            onclick="closeModalSetting()"
            class="bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600"
          >
            Close
          </button>
        </div>
      </div>
    </div>
    <script>
      const menuButton = document.getElementById("menuButton");
      const menuItems = document.getElementById("menuItemsmobile");

      menuButton.addEventListener("click", () => {
        menuItems.classList.toggle("hidden");
      });

      function openModalAbout() {
        document.getElementById("modal_about").classList.remove("hidden");
      }

      function closeModalAbout() {
        document.getElementById("modal_about").classList.add("hidden");
      }

      function openModalSetting() {
        document.getElementById("modal_setting").classList.remove("hidden");
      }

      function closeModalSetting() {
        document.getElementById("modal_setting").classList.add("hidden");
      }

      // บันทึกการตั้งค่า
      function saveSettings() {
        const theme = document.getElementById("themeSelect").value;
        const language = document.getElementById("languageSelect").value;

        console.log("Theme:", theme);
        console.log("Language:", language);

        // ปิด Modal หลังบันทึก
        closeModalSetting();
      }
      function setThaiDate() {
        const today = new Date();

        // คำนวณ timezone ไทย (GMT+7)
        const thailandOffset = 7 * 60 * 60 * 1000; // 7 ชั่วโมงในหน่วยมิลลิวินาที
        const thaiTime = new Date(today.getTime() + thailandOffset);

        // ปรับปี ค.ศ. เป็น พ.ศ.
        const thaiYear = thaiTime.getFullYear() + 543;

        // สร้างวันที่ในรูปแบบ yyyy-mm-dd
        const formattedDate = [
          thaiYear,
          String(thaiTime.getMonth() + 1).padStart(2, "0"), // เดือนเริ่มนับจาก 0
          String(thaiTime.getDate()).padStart(2, "0"),
        ].join("-");

        // ตั้งค่าลงใน input
        document.getElementById("datePicker").value = formattedDate;
      }

      // เรียกฟังก์ชันเมื่อโหลดหน้าเว็บ
      setThaiDate();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/Dashboard Web/script.js"></script>
    <script
      src="/Dashboard Web/firebase.js"
      type="module"
    ></script>
  </body>
</html>
